@using NetCoreCMS.Modules.OnlineExam.Models
@using System.Collections

@model List<OeQuestion>

@{
    Layout = Constants.AdminLayoutName;
    ViewData["PageTitle"] = "Exam Question";
    ViewData["PageSubtitle"] = "Manage existing question";
    var controllerName = "OeQuestion";
    if (ViewBag.uniqueSet == 0) {
        ViewBag.uniqueSet = "";
    }
}
    
<style>
    .no-padding{
        padding:0;
    }
    .btn{
        width:100%;
    }
</style>
<div class="">
    <div class="">
        <div class="panel panel-default">
            <div class="panel-heading">
                @ViewData["PageSubtitle"]
                <div class="pull-right"><a asp-controller="@controllerName" asp-action="CreateEdit" class="btn btn-outline btn-primary btn-xs">Add New</a></div>
            </div>
            <div class="panel-body">
                <div class="col-md-12 no-padding" style="margin-bottom:5px;">
                    <form name="ExamSearch" method="get" asp-controller="@controllerName" asp-action="Manage">
                        <div class="col-md-2 no-padding">
                            <select class="form-control" name="ExamId" asp-items="@ViewBag.ExamList" required>
                                @*<option value="0">All Exam</option>*@
                            </select>
                        </div>
                        <div class="col-md-2 no-padding">
                            <select class="form-control" name="version">
                                <option value="" >All Version</option>
                                <option value="1" selected="@(ViewBag.Version == 1)">Bangla Version</option>
                                <option value="2" selected="@(ViewBag.Version == 2)">English Version</option>
                            </select>
                        </div>
                        <div class="col-md-2 no-padding">
                            <input type="text" class="form-control" name="uniqueSet" placeholder="Unique Set" value="@ViewBag.uniqueSet" />
                        </div>
                        <div class="col-md-5 no-padding">
                            <input type="text" class="form-control" name="searchKey" placeholder="Search key" value="@ViewBag.searchKey" />                            
                        </div>
                        <div class="col-md-1 no-padding">
                            <input type="submit" class="btn btn-primary" value="Search" />
                        </div>
                    </form>
                </div>
                <div style="overflow:auto; max-height:60vh; width:100%;">
                    <table id="pageListDt" class="table table-striped table-bordered" cellspacing="0" width="100%">
                        <thead>
                            <tr>
                                <th style="text-align:center;">Exam</th>
                                <th style="text-align:center;">Subject</th>
                                <th style="text-align:center;">Version</th>
                                <th style="text-align:center;">Unique Set</th>
                                <th style="text-align:center;">Serial</th>
                                <th style="text-align:center;">Uddipok</th>
                                <th style="text-align:center;">Question</th>
                                <th style="text-align:center;">OptionA</th>
                                <th style="text-align:center;">OptionB</th>
                                <th style="text-align:center;">OptionC</th>
                                <th style="text-align:center;">OptionD</th>
                                <th style="text-align:center;">Correct Answer</th>
                                <th style="text-align:center;">Is Shuffle</th>
                                <th style="text-align:center;">CreateBy</th>
                                <th style="text-align:center;">Status</th>
                                <th style="text-align:center;">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model)
                            {
                                <tr>
                                    <td style="text-align:center;">@item.Exam.Name</td>
                                    <td style="text-align:center;">@item.Subject.Name</td>
                                    <td style="text-align:center;">
                                        @if (item.Version == 1)
                                    {
                                            <p>Bangla</p>
                                    }
                                    else
                                    {
                                            <p>English</p>
                                    }
                                    </td>
                                    <td style="text-align:center;">@item.UniqueSetNumber</td>
                                    <td style="text-align:center;">@item.QuestionSerial</td>
                                    <td>
                                        @if (item.Uddipok == null)
                                    {
                                            <p style="text-align:center;">-</p>
                                    }
                                    else
                                    {
                                            <p>@Html.Raw(item.Uddipok.Name)</p>
                                    }
                                    </td>
                                    <td>@Html.Raw(item.Name)</td>
                                    <td>@Html.Raw(item.OptionA)</td>
                                    <td>@Html.Raw(item.OptionB)</td>
                                    <td>@Html.Raw(item.OptionC)</td>
                                    <td>@Html.Raw(item.OptionD)</td>
                                    <td style="text-align:center;">@item.CorrectAnswer</td>
                                    <td style="text-align:center;">@item.IsShuffle</td>
                                    <td style="text-align:center;">@item.CreateBy</td>
                                    <td style="text-align:center;">@item.Status</td>
                                    <td style="text-align:center;">
                                        <a asp-controller="@controllerName" asp-action="CreateEdit" asp-route-id="@item.Id" class="btn btn-xs btn-primary btn-outline">Edit</a>
                                        <a asp-controller="@controllerName" asp-action="Delete" asp-route-id="@item.Id" class="btn btn-xs btn-danger">Delete</a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
</div>



@section Scripts{
    <link href="~/lib/DataTables/dataTables.bootstrap.css" rel="stylesheet" />
    <link href="~/lib/DataTables/jquery.dataTables.min.css" rel="stylesheet" />
    <script src="~/lib/DataTables/jquery.dataTables.min.js"></script>
    <script src="~/lib/DataTables/dataTables.bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML" id=""></script>
}
