<!--  Footer Start -->
<footer> @*style="background-color:#154553; color:#FFF; position:fixed; left:0;bottom:0; width:100%;"*@
    <div class="container">
        <div class="row">
            @{
                bool hasFooter = false;
                var menusFooter = GlobalConfig.Menus.Where(x => x.Position == "Footer").ToList();
                var zoneFooterWidgets = GlobalConfig.WebSiteWidgets.Where(x => x.Zone == "Footer" && x.LayoutName == ViewBag.CurrentLayout).ToList();
                if ((menusFooter != null && menusFooter.Count > 0) || (zoneFooterWidgets != null && zoneFooterWidgets.Count > 0))
                {
                    hasFooter = true;
                }
                <!-- Footer Menu Start -->
                if (menusFooter != null && menusFooter.Count > 0)
                {
                    <div class="col-md-6">
                        @foreach (var item in menusFooter)
                        {
                            foreach (var menuItem in item.MenuItems)
                            {
                                <a href="@menuItem.Url">@menuItem.Name</a><br />
                                foreach (var mi2 in menuItem.Childrens)
                                {
                                    <span>&nbsp;&nbsp;--</span><a href="@mi2.Url">@mi2.Name</a><br />
                                    foreach (var mi3 in mi2.Childrens)
                                    {
                                        <span>&nbsp;&nbsp;&nbsp;&nbsp;--</span><a href="@mi3.Url">@mi3.Name</a><br />
                                        foreach (var mi4 in mi3.Childrens)
                                        {
                                            <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--</span><a href="@mi4.Url">@mi4.Name</a><br />
                                        }
                                    }
                                }
                            }
                        }
                    </div>
                }
                <!-- Footer Menu End -->

                <!-- Footer Widgets Start -->
                if (zoneFooterWidgets != null && zoneFooterWidgets.Count > 0)
                {
                    <div class="col-md-12">
                        @foreach (var item in zoneFooterWidgets)
                        {
                            var widgets = GlobalConfig.Widgets.Where(x => x.WidgetId == item.WidgetId).ToList();
                            foreach (var widget in widgets)
                            {
                                widget.Init(item.Id);
                                if (widget.DisplayTitle != "" || widget.Footer != "")
                                {
                                    <div class='panel panel-default'>
                                        @if (widget.DisplayTitle != "")
                                        {
                                            <div class='panel-heading'>
                                                @Html.Raw(widget.DisplayTitle)
                                            </div>
                                        }
                                        <div class='panel-body'>
                                            @Html.Raw(widget.RenderBody())
                                        </div>
                                        @if (widget.Footer != "")
                                        {
                                            <div class='panel-footer'>
                                                @Html.Raw(widget.Footer)
                                            </div>
                                        }
                                    </div>
                                }
                                else
                                {
                                    <div>
                                        @Html.Raw(widget.RenderBody())
                                    </div>
                                }
                            }
                        }
                    </div>
                }
                <!-- Footer Widgets End -->
            }

        </div>
    </div>
    @if (hasFooter)
    {
        <hr />
    }
    
    <div class="bottomText">@*style="background-color:#0c3541; color:#FFF;min-height:50px;padding-top:15px;"*@
        <div class="container">
            <div class="row">
                <div class="col-md-6 copyright"> &copy; @DateTime.Now.Year @Html.Raw(ViewBag.WebSite.Copyrights)</div>
                <div class="col-md-6 poweredby" style="color:#5baaf5;"> 
                    @if (SignInManager.IsSignedIn(User))
                    {
                        <a asp-area="" asp-controller="Admin" asp-action="Index">Admin</a><span> | </span>
                        @*<a asp-area="" asp-controller="ManageAccount" asp-action="Index" title="Manage">Hello @UserManager.GetUserName(User)!</a>*@@*<span> | </span>*@
                        <a asp-area="" asp-controller="Account" asp-action="Logout">Log out</a><span> | </span>
                    }
                    else
                    {
                        @*<a asp-area="" asp-controller="Account" asp-action="Register">Register</a>*@@*<span> | </span>*@
                        <a asp-area="" asp-controller="Account" asp-action="Login">Log in</a><span> | </span>
                    }
                    Developed by <a href="https://osl.one" target="_blank" style="color:#5baaf5;">OnnoRokom Software Ltd.</a>
                </div>
            </div>
        </div>
    </div>
</footer>
<!--  Footer End -->

<script type="text/javascript">
$(document).ready(function () {
    var didScroll = true;

    $(window).scroll(function () {
        didScroll = true;
    });
    setInterval(function () {
        if (didScroll) {
            didScroll = false;
            var scroll = $(window).scrollTop();
            //console.log(scroll);
            //Same that all the if else statements
            switch (true) {
                case (scroll >= 100):
                    $("#mainNavbar").addClass("navbar-fixed-top");
                    $("#navbarWebsiteName").removeClass("navbar-brand-with-top-menu");
                    break;
                case (scroll <= 50):
                    $("#mainNavbar").removeClass("navbar-fixed-top");
                    $("#navbarWebsiteName").addClass("navbar-brand-with-top-menu");
                    break;
                default:
                    break;
            }
        }
    }, 50);

});
</script>